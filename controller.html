<html>
<head>
    <!-- jQuery -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js'
            integrity='sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8='
            crossorigin='anonymous'></script>

    <!-- Semantic UI -->
    <link rel='stylesheet'
          href='https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/semantic.min.css'
          integrity='sha256-wT6CFc7EKRuf7uyVfi+MQNHUzojuHN2pSw0YWFt2K5E='
          crossorigin='anonymous'/>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/semantic.min.js'
            integrity='sha256-flVaeawsBV96vCHiLmXn03IRJym7+ZfcLVvUWONCas8='
            crossorigin='anonymous'></script>
    <!-- /Semantic UI -->

    <!-- D3 -->
    <script src='https://d3js.org/d3-selection.v1.min.js'></script>
    <link rel='stylesheet' href='styles.css'>

    <!-- AirConsole Framework -->
    <script type='text/javascript'
            src='https://www.airconsole.com/api/airconsole-1.6.0.js'></script>

    <script type='text/javascript'>
      navigator.vibrate = (navigator.vibrate ||
      navigator.webkitVibrate ||
      navigator.mozVibrate ||
      navigator.msVibrate);

      var airconsole;
      var words = [];
      /**
       * Sets up the communication to the screen.
       */
      function init() {
        airconsole =
          new AirConsole({"orientation": AirConsole.ORIENTATION_LANDSCAPE});

          /*
           * Checks if this device is part of the active game.
           */
        airconsole.onActivePlayersChange = function (player) {
          var div = document.getElementById("player_id");
          if (player !== undefined) {
            $('.ui.dimmer').dimmer('hide');
          } else {
            $('.ui.dimmer .header').text('Auf weiteren Agent warten ...');
            $('.ui.dimmer').dimmer('show');
          }
        };

          /*
           * Makes the device vibrate if the screen says so.
           */
        airconsole.onMessage = function (from, data) {
          if (from == AirConsole.SCREEN && data.vibrate) {
            navigator.vibrate(data.vibrate);
            console.log("Vibrating: " + data.vibrate);
          }

          if (from === AirConsole.SCREEN && data.updatedBoard) {
            words = data.updatedBoard;
            updateBoard(data.updatedBoard)
          }
        };
      }

      
      function notifyOfClick(datum) {
        airconsole.message(AirConsole.SCREEN, {
          indexClicked: words.indexOf(datum)
        })
      }

      function updateBoard(data) {


      }

      /**
       * Tells the screen to move the paddle of this player.
       * @param amount
       */
      function move(amount) {
        airconsole.message(AirConsole.SCREEN, {move: amount})
      }

    </script>

</head>
<body onload='init()'>
<div class='ui container game'>
    <div class='ui five column grid board'>

    </div>
    <!-- /.ui five column grid board -->
</div>
<!-- /.ui container game -->


<!-- Friendly Messages to the player -->
<div class='ui dimmer'>
    <div class='content'>
        <div class='center'>
            <h2 class='ui inverted header'></h2>
        </div>
    </div>
</div>
</body>
</html>
